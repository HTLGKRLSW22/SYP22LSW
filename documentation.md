# Documentation for DTOs and Routing

## Allgemein

Es werden f√ºr jedes Objekt, welche in der Datenbank vorhanden sind DTOs erzeugt. Diese verf√ºgen √ºber die gleichen Properties, aber verwenden bei Referenzen auf ein anders Objekt auf der Datenbank nur das dazugeh√∂rige DTO. Diese m√ºssen dabei immer gleich hei√üen wie die jeweils zugeh√∂rige Datenbankklasse angeh√§ngt mit der **Endung -Dto (Teacher.cs &rarr; TeacherDto.cs)**.

## Routing

> #### students/courses-list
>
> ![students/courses-list](documents\images\students_courses-list.png)

---

> #### students/priority-list
>
> ![students/priority-list](documents\images\students_priority-list.png)

---

> #### admin/search-students
>
> ![admin/search-students](documents\images\admin_search-students.png)

---

## DTOs

### OfferDetailDto

Dieses DTO wird verwendet bei den verschiedenen detailierten Kursanzeigen. (Siehe Bild)

| Name            | Type           | Description                                                                                                                                                         |
| --------------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| OfferId         | int            | -                                                                                                                                                                   |
| CouresTitle     | string         | -                                                                                                                                                                   |
| Description     | string         | Beschreibung des Kurses                                                                                                                                             |
| TeacherNames    | string[&nbsp;] | Lehrer, welche den Kurs haben. Der Lehrer an erster Stelle ist hauptverantwortlicher                                                                                |
| StartDate       | DateTime       | -                                                                                                                                                                   |
| EndTime         | DateTime       | -                                                                                                                                                                   |
| CurrentStudents | int            | Die aktuelle Anzahl an eingetragener Sch√ºler                                                                                                                        |
| MaximumStudents | int?           | Anzahl an maximal Zul√§ssiger Sch√ºler (ist null wenn kein Maximum gegeben)                                                                                           |
| MinimumStudents | int?           | Anzahl an mindest ben√∂tigten Sch√ºlern (ist null wenn kein Minimum ben√∂tigt)                                                                                         |
| Price           | decimal?       | Kosten des Courses (ist null wenn keine Kosten f√§llig)                                                                                                              |
| Location        | string         | Veranstaltungsort des Kurses                                                                                                                                        |
| MeetingPoint    | string         | Treffpunkt des Kurses. Treffpunkt des Kurses kann ja Unterschiedlich sein (z.B. Anfahrt zu Location ist mit Bus, Treffpunkt ist aber HTL, da dort der Bus wegf√§hrt) |

![OfferDetailDto](documents\images\offerDetailDto.png)

---

### OfferListDto

> #### üî¥üî¥üî¥ WARNING üî¥üî¥üî¥
>
> **OfferDto** geh√∂rt noch umbenannt in **OfferListDto**

Dieses DTO wird verwendet bei der Admin Course √úbersicht

| Name       | Type               | Description |
| ---------- | ------------------ | ----------- |
| OfferId    | int                | -           |
| Title      | string             | -           |
| OfferDates | List\<OfferDates\> | -           |
| TeacherId  | int                | -           |
| Teacher    | Teacher            | -           |

![OfferListDto](documents\images\offerListDto.png)

---

### OfferCreateDto

> #### üî¥üî¥üî¥ WARNING üî¥üî¥üî¥
>
> Bitte um R√ºckinfo, ob das stimmt

| Name            | Type                 | Description                                                                                                                                                         |
| --------------- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CouresTitle     | string               | -                                                                                                                                                                   |
| Description     | string               | Beschreibung des Kurses                                                                                                                                             |
| Teachers        | TeacherDto[&nbsp;]   | Lehrer, welche den Kurs haben. Der Lehrer an erster Stelle ist hauptverantwortlicher                                                                                |
| StartDate       | DateTime             | -                                                                                                                                                                   |
| EndTime         | DateTime             | -                                                                                                                                                                   |
| OfferDates      | OfferDateDto[&nbsp;] | -                                                                                                                                                                   |
| Clazzes         | ClazzDto[&nbsp;]     | -                                                                                                                                                                   |
| MaximumStudents | int?                 | Anzahl an maximal Zul√§ssiger Sch√ºler (ist null wenn kein Maximum gegeben)                                                                                           |
| MinimumStudents | int?                 | Anzahl an mindest ben√∂tigten Sch√ºlern (ist null wenn kein Minimum ben√∂tigt)                                                                                         |
| Price           | decimal?             | Kosten des Courses (ist null wenn keine Kosten f√§llig)                                                                                                              |
| Location        | string               | Veranstaltungsort des Kurses                                                                                                                                        |
| MeetingPoint    | string               | Treffpunkt des Kurses. Treffpunkt des Kurses kann ja Unterschiedlich sein (z.B. Anfahrt zu Location ist mit Bus, Treffpunkt ist aber HTL, da dort der Bus wegf√§hrt) |

---

### StudentsWithOfferDto

| Name           | Type                      | Description |
| -------------- | ------------------------- | ----------- |
| StudentId      | int                       | -           |
| FirstName      | string                    | -           |
| LastName       | string                    | -           |
| ClassName      | string                    | -           |
| SelectedOffers | List<OfferOfStudentsDto\> | -           |

![studentsWithOfferDto](documents\images\admin_students-list.png)

![admin/search-students](documents\images\admin_search-students.png)

---

### OfferOfStudentsDto

| Name      | Type   | Description |
| --------- | ------ | ----------- |
| DateTime  | Date   | -           |
| OfferName | string | -           |

---

### LehrerListDto

> #### üî¥üî¥üî¥ WARNING üî¥üî¥üî¥
>
> Habe ich das richtig verstanden mit dem Status? Oder wo genau bekommt man den sonst her?
> **Wird noch ge√§ndert, nicht erstellen!**

| Name    | Type               | Description                                                                                             |
| ------- | ------------------ | ------------------------------------------------------------------------------------------------------- |
| Teacher | TeacherDto[&nbsp;] | -                                                                                                       |
| Status  | int                | Status kann Zahl sein zwischen 1 und 3. 1 = alles eingetragen, 2 = teilweise, 3 = gar nicht eingetragen |

![LehrerListDto](documents\images\lehrerList.png)

---

### LehrerDetailDto

> #### üî¥üî¥üî¥ WARNING üî¥üî¥üî¥
>
> Bitte √ºberpr√ºfen

| Name       | Type     | Description |
| ---------- | -------- | ----------- |
| CourseName | string   | -           |
| Date       | DateTime | -           |

![LehrerDetailDto](documents\images\lehrerDetailDto.png)

---

### KlassenFilterListDto

> #### üî¥üî¥üî¥ WARNING üî¥üî¥üî¥
>
> Student als Objekt √ºbergeben? Wieder die Frage mit Status.

| Name        | Type   | Description                                                                                             |
| ----------- | ------ | ------------------------------------------------------------------------------------------------------- |
| ClassName   | string | -                                                                                                       |
| StudentName | string | -                                                                                                       |
| Status      | int    | Status kann Zahl sein zwischen 1 und 3. 1 = alles eingetragen, 2 = teilweise, 3 = gar nicht eingetragen |

![KlassenFilterList](documents\images\klassenFilterList.png)

---

## Controller und Services

### OfferController & OfferService

> #### üî¥üî¥üî¥ WARNING üî¥üî¥üî¥
>
> **OfferDto** geh√∂rt noch umbenannt in **OfferListDto**

| Controller | Service | Methodenname         | Returntyp                    | Parameter                   | HttpActionName  | Status |
| :--------: | :-----: | -------------------- | ---------------------------- | --------------------------- | --------------- | :----: |
|     X      |         | GetOffers()          | IEnumerable\<OfferDto\>      | -                           | GetOffers       |   üü¢   |
|            |    X    | GetAllOffers()       | IEnumerable\<OfferDto\>      | -                           | -               |   üü¢   |
|     X      |         | DeleteOffers()       | ReplyDto                     | id: int                     | DeleteOffer     |   üü¢   |
|            |    X    | DeleteOfferById()    | ReplyDto                     | id: int                     | -               |   üü¢   |
|     X      |         | UpdateOffer()        | OfferListDto                 | offer: OfferListDto         | UpdateOffer     |   üü¢   |
|            |    X    | UpdateOffer()        | OfferListDto                 | dto: OfferListDto           | -               |   üü¢   |
|     X      |         | GetOfferDetails()    | IEnumerable<OfferDetailDto\> | studentId: int              | GetDetailOffers |   üî¥   |
|            |    X    | GetAllOfferDetails() | IEnumerable<OfferDetailDto\> | studentId: int              | -               |   üî¥   |
|     X      |         | CreateNewOffer()     | OfferDetailDto               | createOffer: CreateOfferDto | CreateOffer     |   üî¥   |
|            |    X    | CreateNewOffer()     | OfferDetailDto               | createOffer: CreateOfferDto | -               |   üî¥   |

---

### LehrerController & LehrerService

| Controller | Service | Methodenname      | Returntyp                      | Parameter     | HttpActionName  | Status |
| :--------: | :-----: | ----------------- | ------------------------------ | ------------- | --------------- | :----: |
|     X      |         | GetLehrerList()   | IEnumerable\<LehrerListDto\>   |               | GetLehrerList   |   üî¥   |
|            |    X    | GetLehrerList()   | IEnumerable\<LehrerListDto\>   |               | -               |   üî¥   |
|     X      |         | GetLehrerDetail() | IEnumerable\<LehrerDetailDto\> | lehrerID: int | GetLehrerDetail |   üî¥   |
|            |    X    | GetLehrerDetail() | IEnumerable\<LehrerDetailDto\> | lehrerID: int | -               |   üî¥   |

---

### FreistellungsController & FreistellungsService

| Controller | Service | Methodenname      | Returntyp                        | Parameter                          | HttpActionName | Status |
| :--------: | :-----: | ----------------- | -------------------------------- | ---------------------------------- | -------------- | :----: |
|     X      |         | SetFreistellung() | ActionResult\<FreistellungsDto\> | freistellungsDto: FreistellungsDto | [action]       |   üî¥   |
|            |    X    | SetFreistellung() | bool                             | freistellungsDto: FreistellungsDto | -              |   üî¥   |

---
